model CustomerTransaction {
    id            Int                  @unique @default(autoincrement())
    authorId      Int
    amount        Float
    walletId      Int
    description   String?              @db.LongText
    meta          Json?                @db.Json
    createdAt     DateTime?            @default(now()) @db.Timestamp(0)
    updatedAt     DateTime?            @updatedAt
    deletedAt     DateTime?            @db.Timestamp(0)
    wallet        CustomerWallet       @relation(fields: [walletId], references: [id], onDelete: Cascade)
    salesPayments SalesPayments[]
    refundTx      RefundTransactions[]

    @@index([walletId])
}

model CustomerWallet {
    id           Int                   @unique @default(autoincrement())
    balance      Float
    accountNo    String?               @unique
    meta         Json?                 @db.Json
    customer     Customers             @relation(fields: [id], references: [walletId], onDelete: Cascade)
    transactions CustomerTransaction[]
    createdAt    DateTime?             @default(now()) @db.Timestamp(0)
    updatedAt    DateTime?             @updatedAt
    deletedAt    DateTime?             @db.Timestamp(0)

    refunds Refunds[]
}
